<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>用户列表</title>
		<link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
		<style>
			.pagination.pagination-sm {
				margin: -20px;
			}
			.blank_line {
				height:20px;
			}
		</style>
		<script type="text/javascript">
			$(document).ready(function(){
  				$(".click").click(function(){
  					$(".tip").fadeIn(200);
  				});
	  			$(".tiptop a").click(function(){
	  				$(".tip").fadeOut(200);
				});
	 			$(".sure").click(function(){
	  				$(".tip").fadeOut(100);
				});
	  			$(".cancel").click(function(){
	  				$(".tip").fadeOut(100);
				});
			});
		</script>
	</head>

	<body>
    	<div class="container-fluid">
    		<div class="col-sm-13" align="right">
    			<form class="form-inline" role="form" method="get" th:action="@{/admin/user}">
    				<div class="form-group">
   						 <input type="text" class="form-control" name="k" placeholder="用户名或者中文名" />
  					</div>
  					<input type="submit" value="搜索用户" class="btn btn-default"/>
  					<div class="btn-group">
    					<a th:href="@{/admin/user/create}"><button type="button" class="btn btn-default">新增用户</button></a>
    				</div>
  				</form>
    		</div>
    		<p class="blank_line"></p>
			<div>
			    <table class="table table-striped">
			    	<thead>
			    		<tr>
			        		<th>编号<i class="sort"></i></th>
			        		<th>用户名</th>
			        		<th>中文名</th>
			        		<th>邮件地址</th>
			        		<th>权限列表</th>
			        		<th>状态</th>
			        		<th>最后修改日期</th>
			        		<th>操作</th>
			        	</tr>
			        </thead>
			        <tbody>
			        <tr th:each="user,userStat : ${users}"> 
				        <td th:text="${userStat.index} + 1">1</td> 
				        <td th:text="${user.name}"></td> 
				        <td th:text="${user.chineseName}"></td>
				        <td th:text="${user.email}"></td>
				        <td>
				        	<font th:each="myrole:${user.sysRoles}">
				        		[<b th:text="${myrole.name}"/>]
				        	</font>
				        </td>
				        <td th:text="${user.active}"></td>
				        <td th:text="${user.createDate}"></td>
				        <td>
				        	<a th:href="@{/admin/user/modify(id=${user.id},action=update)}">编辑</a>
				        	<a th:href="@{/admin/user/modify(id=${user.id},action=enable)}">恢复</a>
				        	<a th:href="@{/admin/user/modify(id=${user.id},action=disable)}">删除</a>
				        </td>
			        </tr>        
			        </tbody>
			    </table>
		    </div>
		    <div th:include="paging :: paging"></div>
    	</div>
    	
	</body>

</html>
